"use strict";(self.webpackChunke_commerce=self.webpackChunke_commerce||[]).push([[563],{3563:(H,_,s)=>{s.r(_),s.d(_,{AuthenticationModule:()=>G});var c=s(6895),m=s(9427),a=s(433),p=s(1597),e=s(1571),f=s(7053),h=s(9643);function v(t,i){1&t&&(e.TgZ(0,"p",24),e._uU(1," Email is Required "),e.qZA())}function Z(t,i){1&t&&(e.TgZ(0,"p",24),e._uU(1," Invalid Email Format "),e.qZA())}function T(t,i){if(1&t&&(e.TgZ(0,"div",22),e.YNc(1,v,2,0,"p",23),e.YNc(2,Z,2,0,"p",23),e.qZA()),2&t){const o=e.oxw();let n,r;e.xp6(1),e.Q6J("ngIf",null==(n=o.loginForm.get("email"))?null:n.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=o.loginForm.get("email"))?null:r.getError("email"))}}function w(t,i){1&t&&(e.TgZ(0,"p",24),e._uU(1," password is Required "),e.qZA())}function x(t,i){if(1&t&&(e.TgZ(0,"div",22),e.YNc(1,w,2,0,"p",23),e.qZA()),2&t){const o=e.oxw();let n;e.xp6(1),e.Q6J("ngIf",null==(n=o.loginForm.get("password"))?null:n.getError("required"))}}function C(t,i){1&t&&e._UZ(0,"i",25)}function A(t,i){1&t&&(e.TgZ(0,"span"),e._uU(1,"Login"),e.qZA())}function q(t,i){if(1&t&&(e.TgZ(0,"div",26),e._uU(1),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.hij(" ",o.errorMsg," ")}}function b(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1,"Name must have 2 characters at least "),e.qZA())}function U(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1,"Name must have 20 characters at Most "),e.qZA())}function F(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1,"Name is Required"),e.qZA())}function J(t,i){if(1&t&&(e.TgZ(0,"div",28),e.YNc(1,b,2,0,"p",21),e.YNc(2,U,2,0,"p",21),e.YNc(3,F,2,0,"p",21),e.qZA()),2&t){const o=e.oxw();let n,r,l;e.xp6(1),e.Q6J("ngIf",null==(n=o.registerForm.get("name"))?null:n.getError("minlength")),e.xp6(1),e.Q6J("ngIf",null==(r=o.registerForm.get("name"))?null:r.getError("maxlength")),e.xp6(1),e.Q6J("ngIf",null==(l=o.registerForm.get("name"))?null:l.getError("required"))}}function N(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1,"Invalid Email Format"),e.qZA())}function L(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1,"Email is Required"),e.qZA())}function R(t,i){if(1&t&&(e.TgZ(0,"div",28),e.YNc(1,N,2,0,"p",21),e.YNc(2,L,2,0,"p",21),e.qZA()),2&t){const o=e.oxw();let n,r;e.xp6(1),e.Q6J("ngIf",null==(n=o.registerForm.get("email"))?null:n.getError("email")),e.xp6(1),e.Q6J("ngIf",null==(r=o.registerForm.get("email"))?null:r.getError("required"))}}function Y(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1,"Password must contain at least one Uppercase letter, one Lowercase letter , minimu length is 8"),e.qZA())}function Q(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1,"password is Required"),e.qZA())}function M(t,i){if(1&t&&(e.TgZ(0,"div",28),e.YNc(1,Y,2,0,"p",21),e.YNc(2,Q,2,0,"p",21),e.qZA()),2&t){const o=e.oxw();let n,r;e.xp6(1),e.Q6J("ngIf",null==(n=o.registerForm.get("password"))?null:n.getError("pattern")),e.xp6(1),e.Q6J("ngIf",null==(r=o.registerForm.get("password"))?null:r.getError("required"))}}function P(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1,"Confirm Password is Required "),e.qZA())}function y(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1,"Confirm Password must match with password"),e.qZA())}function E(t,i){if(1&t&&(e.TgZ(0,"div",28),e.YNc(1,P,2,0,"p",21),e.YNc(2,y,2,0,"p",21),e.qZA()),2&t){const o=e.oxw();let n,r;e.xp6(1),e.Q6J("ngIf",null==(n=o.registerForm.get("rePassword"))?null:n.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=o.registerForm.get("rePassword"))?null:r.getError("passwordMatch"))}}function k(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1,"Please enter egyptian phone number"),e.qZA())}function S(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1,"Phone number is Required"),e.qZA())}function O(t,i){if(1&t&&(e.TgZ(0,"div",28),e.YNc(1,k,2,0,"p",21),e.YNc(2,S,2,0,"p",21),e.qZA()),2&t){const o=e.oxw();let n,r;e.xp6(1),e.Q6J("ngIf",null==(n=o.registerForm.get("phone"))?null:n.getError("pattern")),e.xp6(1),e.Q6J("ngIf",null==(r=o.registerForm.get("phone"))?null:r.getError("required"))}}function j(t,i){1&t&&e._UZ(0,"i",29)}function z(t,i){1&t&&(e.TgZ(0,"span"),e._uU(1,"Register"),e.qZA())}function B(t,i){if(1&t&&(e.TgZ(0,"div",30),e._uU(1),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.hij(" ",o.errorMsg," ")}}const $=[{path:"login",component:(()=>{class t{constructor(o,n,r){this._authService=o,this._router=n,this._tokenService=r,this.loginForm=new a.cw({email:new a.NI("",[a.kI.required,a.kI.email]),password:new a.NI("",[a.kI.required])}),this.isLoading=!1,this.errorMsg=""}handleLogin(o){this.isLoading=!0,o.valid&&this._authService.login(o.value).subscribe({next:n=>{"success"===n.message&&(this._router.navigate(["./pages/home"]),localStorage.setItem("userToken",n.token),this._tokenService.decodeToken()),this.isLoading=!1},error:n=>{this.errorMsg=n.error.message,this.isLoading=!1},complete:()=>{this.isLoading=!1}})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(f.$),e.Y36(m.F0),e.Y36(h.B))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-login"]],decls:30,vars:8,consts:[[1,"d-flex"],[1,"center-elem","w-50","login-form","min-vh-100","bg-main-light"],[1,"p-5","w-100","login-form-container"],[1,"header","text-center","mx-auto"],[1,"text-main"],[1,"text-muted","mt-3"],[3,"formGroup","ngSubmit"],[1,"form-floating"],["type","email","formControlName","email",1,"form-control","mb-2"],["for","email"],["class","alert alert-danger p-2",4,"ngIf"],["type","password","formControlName","password","id","password",1,"form-control","mb-2"],["for","password"],["type","submit",1,"btn","bg-main","text-white",3,"disabled"],["class","fa-solid fa-spinner fa-spin",4,"ngIf"],[4,"ngIf"],[1,"center-elem","register"],[1,"d-inline-block"],["routerLink","/authentication/register",1,"btn","rounded-2","btn-register","ms-2"],["class","alert alert-danger mt-2",4,"ngIf"],[1,"image-cover","overflow-hidden","w-50"],["src","../../../../../assets/images/shopping-cart-with-bag-min.jpg","alt","shopping-img",1,"w-100","vh-100"],[1,"alert","alert-danger","p-2"],["class","m-0",4,"ngIf"],[1,"m-0"],[1,"fa-solid","fa-spinner","fa-spin"],[1,"alert","alert-danger","mt-2"]],template:function(o,n){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),e._uU(5," E-Commerce Shopping Application "),e.qZA(),e.TgZ(6,"p",5),e._uU(7,"Sign in and discover our awesome products with offers ! "),e.qZA()(),e.TgZ(8,"form",6),e.NdJ("ngSubmit",function(){return n.handleLogin(n.loginForm)}),e.TgZ(9,"div",7),e._UZ(10,"input",8),e.TgZ(11,"label",9),e._uU(12,"Email"),e.qZA()(),e.YNc(13,T,3,2,"div",10),e.TgZ(14,"div",7),e._UZ(15,"input",11),e.TgZ(16,"label",12),e._uU(17,"Password"),e.qZA()(),e.YNc(18,x,2,1,"div",10),e.TgZ(19,"button",13),e.YNc(20,C,1,0,"i",14),e.YNc(21,A,2,0,"span",15),e.qZA()(),e.TgZ(22,"div",16)(23,"span",17),e._uU(24,"Don't have an account? "),e.TgZ(25,"a",18),e._uU(26,"Sign Up"),e.qZA()()(),e.YNc(27,q,2,1,"div",19),e.qZA()(),e.TgZ(28,"div",20),e._UZ(29,"img",21),e.qZA()()),2&o){let r,l;e.Q6J("@fadeIn",void 0),e.xp6(8),e.Q6J("formGroup",n.loginForm),e.xp6(5),e.Q6J("ngIf",(null==(r=n.loginForm.get("email"))?null:r.errors)&&(null==(r=n.loginForm.get("email"))?null:r.touched)),e.xp6(5),e.Q6J("ngIf",(null==(l=n.loginForm.get("password"))?null:l.errors)&&(null==(l=n.loginForm.get("password"))?null:l.touched)),e.xp6(1),e.Q6J("disabled",n.loginForm.invalid),e.xp6(1),e.Q6J("ngIf",n.isLoading),e.xp6(1),e.Q6J("ngIf",!n.isLoading),e.xp6(6),e.Q6J("ngIf",n.errorMsg)}},dependencies:[c.O5,m.rH,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u],styles:[".btn-register[_ngcontent-%COMP%]{border:1px solid var(--main-color);color:var(--main-color);transition:all .4s}.btn-register[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--main-color)}@media (max-width: 992px){.login-form[_ngcontent-%COMP%]{width:100%!important}.image-cover[_ngcontent-%COMP%]{display:none}}"],data:{animation:[p.BX,p.SE,p.Zc]}}),t})()},{path:"register",component:(()=>{class t{constructor(o,n,r){this._authSerive=o,this._router=n,this.formBuilder=r,this.isLoading=!1,this.errorMsg="",this.registerForm=new a.cw({}),this.registerForm=r.group({name:[null,[a.kI.required,a.kI.minLength(2),a.kI.maxLength(20)]],email:[null,[a.kI.required,a.kI.email]],password:[null,[a.kI.pattern(/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/)]],rePassword:[null,[a.kI.pattern(/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/)]],phone:[null,[a.kI.required,a.kI.pattern(/^01[0125][0-9]{8}$/)]]},{validators:[this.passwordMatchValidator("password","rePassword")]})}handleRegister(o){o.valid&&(this.isLoading=!0,this._authSerive.registerUser(o.value).subscribe({next:n=>{"success"===n.message&&this._router.navigate(["./authentication/login"]),this.isLoading=!1},error:n=>{console.log(n),this.isLoading=!1,this.errorMsg=n.error.message},complete:()=>{this.isLoading=!1}}))}passwordMatchValidator(o,n){return r=>{const g=r.controls[n];r.controls[o].value!==g.value&&g.setErrors({passwordMatch:"Confirm password must match with password"})}}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(f.$),e.Y36(m.F0),e.Y36(a.qu))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-register"]],decls:45,vars:11,consts:[[1,"d-flex"],[1,"center-elem","w-50","register-form","min-vh-100","bg-main-light"],[1,"p-5","w-100","login-form-container"],[1,"header","text-center","mx-auto"],[1,"text-main"],[1,"text-muted","mt-3"],[3,"formGroup","ngSubmit"],[1,"form-floating"],["type","text","formControlName","name","id","name",1,"form-control","mb-2"],["for","name"],["class","alert alert-danger p-2",4,"ngIf"],["type","email","formControlName","email","id","email",1,"form-control","mb-2"],["for","email"],["type","password","formControlName","password","id","password",1,"form-control","mb-2"],["for","password"],["type","password","formControlName","rePassword","id","rePassword",1,"form-control","mb-2"],["for","rePassword"],["type","tel","formControlName","phone","id","phone",1,"form-control","mb-2"],["for","phone"],["type","submit",1,"btn","bg-main","text-white","d-block",3,"disabled"],["class","fa-solid fa-spinner fa-spin",4,"ngIf"],[4,"ngIf"],[1,"center-elem","login"],[1,"d-inline-block"],["routerLink","/authentication/login",1,"btn","rounded-2","btn-login","ms-2"],["class","alert alert-danger p-2 mt-2",4,"ngIf"],[1,"image-cover","overflow-hidden","w-50"],["src","assets/images/slate-small-shopping-cart-min.jpg","alt","shopping-img",1,"w-100"],[1,"alert","alert-danger","p-2"],[1,"fa-solid","fa-spinner","fa-spin"],[1,"alert","alert-danger","p-2","mt-2"]],template:function(o,n){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),e._uU(5," E-Commerce Shopping Application "),e.qZA(),e.TgZ(6,"p",5),e._uU(7,"Join us now and be a part of our wonderful story discover our awesome products with offers! "),e.qZA(),e.TgZ(8,"form",6),e.NdJ("ngSubmit",function(){return n.handleRegister(n.registerForm)}),e.TgZ(9,"div",7),e._UZ(10,"input",8),e.TgZ(11,"label",9),e._uU(12,"name:"),e.qZA()(),e.YNc(13,J,4,3,"div",10),e.TgZ(14,"div",7),e._UZ(15,"input",11),e.TgZ(16,"label",12),e._uU(17,"email:"),e.qZA()(),e.YNc(18,R,3,2,"div",10),e.TgZ(19,"div",7),e._UZ(20,"input",13),e.TgZ(21,"label",14),e._uU(22,"password:"),e.qZA()(),e.YNc(23,M,3,2,"div",10),e.TgZ(24,"div",7),e._UZ(25,"input",15),e.TgZ(26,"label",16),e._uU(27,"Confirm Password:"),e.qZA()(),e.YNc(28,E,3,2,"div",10),e.TgZ(29,"div",7),e._UZ(30,"input",17),e.TgZ(31,"label",18),e._uU(32,"phone:"),e.qZA()(),e.YNc(33,O,3,2,"div",10),e.TgZ(34,"button",19),e.YNc(35,j,1,0,"i",20),e.YNc(36,z,2,0,"span",21),e.qZA()(),e.TgZ(37,"div",22)(38,"span",23),e._uU(39,"Already have an account? "),e.TgZ(40,"a",24),e._uU(41,"Login"),e.qZA()()(),e.YNc(42,B,2,1,"div",25),e.qZA()()(),e.TgZ(43,"div",26),e._UZ(44,"img",27),e.qZA()()),2&o){let r,l,g,u,d;e.Q6J("@fadeIn",void 0),e.xp6(8),e.Q6J("formGroup",n.registerForm),e.xp6(5),e.Q6J("ngIf",(null==(r=n.registerForm.get("name"))?null:r.errors)&&(null==(r=n.registerForm.get("name"))?null:r.touched)),e.xp6(5),e.Q6J("ngIf",(null==(l=n.registerForm.get("email"))?null:l.errors)&&(null==(l=n.registerForm.get("email"))?null:l.touched)),e.xp6(5),e.Q6J("ngIf",(null==(g=n.registerForm.get("password"))?null:g.errors)&&(null==(g=n.registerForm.get("password"))?null:g.touched)),e.xp6(5),e.Q6J("ngIf",(null==(u=n.registerForm.get("rePassword"))?null:u.errors)&&(null==(u=n.registerForm.get("rePassword"))?null:u.touched)),e.xp6(5),e.Q6J("ngIf",(null==(d=n.registerForm.get("phone"))?null:d.errors)&&(null==(d=n.registerForm.get("phone"))?null:d.touched)),e.xp6(1),e.Q6J("disabled",n.registerForm.invalid),e.xp6(1),e.Q6J("ngIf",n.isLoading),e.xp6(1),e.Q6J("ngIf",!n.isLoading),e.xp6(6),e.Q6J("ngIf",n.errorMsg)}},dependencies:[c.O5,m.rH,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u],styles:["form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0!important}.form-control[_ngcontent-%COMP%]:focus{border-color:var(--main-color)!important;border:1px!important;box-shadow:0 0 0 1px #fc8429ca}.btn-login[_ngcontent-%COMP%]{border:1px solid var(--main-color);color:var(--main-color);transition:all .4s}.btn-login[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--main-color)}@media (max-width: 992px){.register-form[_ngcontent-%COMP%]{width:100%!important}.image-cover[_ngcontent-%COMP%]{display:none}}"],data:{animation:[p.BX,p.SE,p.Zc]}}),t})()}];let X=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[m.Bz.forChild($),m.Bz]}),t})(),G=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[c.ez,X]}),t})()}}]);